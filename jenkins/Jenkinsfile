pipeline {
  agent any

  environment {
    DEV_REPO_URL = "https://github.com/RaniSaed/smart-retail-dev.git"
    CONFIG_REPO_URL = "https://github.com/RaniSaed/smart-retail-config.git"
  }

  stages {
    stage('📥 Clone Repositories') {
      steps {
        echo '🔄 Cloning smart-retail-dev and smart-retail-config...'

        dir('dev') {
          git url: "${DEV_REPO_URL}", branch: 'main'
        }

        dir('config') {
          git url: "${CONFIG_REPO_URL}", branch: 'main'
        }
      }
    }
  }

  post {
    success {
      echo "✅ Repositories cloned successfully!"
    }
    failure {
      echo "❌ Failed to clone repositories"
    }
  }
}
